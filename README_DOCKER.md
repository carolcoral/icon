# ğŸ³ Docker éƒ¨ç½²æŒ‡å—

### âœ… å®ç°çš„åŠŸèƒ½

1. **å›¾ç‰‡æ–‡ä»¶å¤¹æ˜ å°„åˆ°å®¿ä¸»æœº**
   - æ”¯æŒå®æ—¶åŒæ­¥ï¼šå®¿ä¸»æœºå¢åˆ å›¾ç‰‡ â†’ å®¹å™¨å†…ç«‹å³æ›´æ–°
   - æ˜ å°„è·¯å¾„ï¼š`./public/assets/images` â†” `/app/public/assets/images`

2. **å¼€å‘ç¯å¢ƒä¸€ä½“åŒ–æ„å»º**
   - å‰åç«¯æ‰“åŒ…åœ¨åŒä¸€ä¸ªé•œåƒä¸­
   - ä½¿ç”¨ `npm run dev` åŒæ—¶å¯åŠ¨å‰åç«¯æœåŠ¡
   - æ”¯æŒçƒ­é‡è½½å’Œå®æ—¶å¼€å‘

3. **ç›´æ¥ç«¯å£è®¿é—®**
   - ç§»é™¤äº† nginx ä»£ç†é…ç½®
   - ç›´æ¥æš´éœ² 5173 ç«¯å£è®¿é—®å‰ç«¯
   - æš´éœ² 3000 ç«¯å£è®¿é—®åç«¯ API

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æ–¹å¼ä¸€ï¼šDocker Composeï¼ˆæ¨èï¼‰

```bash
# æ£€æŸ¥ Docker ç¯å¢ƒ
.\test-docker-setup.bat

# æ„å»ºå¹¶å¯åŠ¨
docker compose up --build

# æˆ–åå°è¿è¡Œ
docker compose up -d --build
```

### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘

```bash
# æœ¬åœ°å¯åŠ¨ï¼ˆä¸ä½¿ç”¨ Dockerï¼‰
.\start-local.bat
```

## ğŸ“ ç›®å½•ç»“æ„

```
icon/
â”œâ”€â”€ Dockerfile                 # å¼€å‘ç¯å¢ƒä¸€ä½“åŒ–æ„å»º
â”œâ”€â”€ docker-compose.yml         # æœåŠ¡ç¼–æ’é…ç½®
â”œâ”€â”€ public/assets/images/       # å›¾ç‰‡ç›®å½•ï¼ˆæ˜ å°„åˆ°å®¿ä¸»æœºï¼‰
â”‚   â”œâ”€â”€ icons/                 # å›¾æ ‡åˆ†ç±»
â”‚   â”œâ”€â”€ logos/                 # æ ‡å¿—åˆ†ç±»
â”‚   â””â”€â”€ avatars/               # å¤´åƒåˆ†ç±»
â”œâ”€â”€ client/                    # å‰ç«¯ä»£ç 
â”œâ”€â”€ node-functions/            # åç«¯ä»£ç 
â””â”€â”€ package.json               # é¡¹ç›®é…ç½®
```

## ğŸ”§ é…ç½®è¯¦æƒ…

### Dockerfile ç‰¹æ€§
- **å•é˜¶æ®µæ„å»º**ï¼šç®€åŒ–æ„å»ºæµç¨‹
- **å¼€å‘ç¯å¢ƒ**ï¼šä¿ç•™æ‰€æœ‰å¼€å‘ä¾èµ–
- **ç”¨æˆ·æƒé™**ï¼šé root ç”¨æˆ·è¿è¡Œ
- **å¥åº·æ£€æŸ¥**ï¼šè‡ªåŠ¨ç›‘æ§æœåŠ¡çŠ¶æ€

### docker-compose.yml ç‰¹æ€§
- **ç«¯å£æ˜ å°„**ï¼š5173ï¼ˆå‰ç«¯ï¼‰+ 3000ï¼ˆåç«¯ï¼‰
- **å·æ˜ å°„**ï¼šå›¾ç‰‡ç›®å½•å®æ—¶åŒæ­¥
- **ç¯å¢ƒå˜é‡**ï¼šå¼€å‘ç¯å¢ƒé…ç½®
- **ç½‘ç»œéš”ç¦»**ï¼šç‹¬ç«‹ç½‘ç»œç©ºé—´

## ğŸ“Š ä½¿ç”¨æ–¹æ³•

### 1. æ·»åŠ å›¾ç‰‡
```bash
# ç›´æ¥åœ¨å®¿ä¸»æœºæ“ä½œ
cp your-image.png ./public/assets/images/icons/
mkdir ./public/assets/images/new-category
```

### 2. è®¿é—®æœåŠ¡
- **å‰ç«¯ç•Œé¢**ï¼šhttp://localhost:5173
- **API æ¥å£**ï¼šhttp://localhost:3000/api/categories
- **å›¾ç‰‡ç›´é“¾**ï¼šhttp://localhost:3000/assets/images/icons/home.png

### 3. ç®¡ç†å®¹å™¨
```bash
# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# é‡å¯æœåŠ¡
docker compose restart

# åœæ­¢æœåŠ¡
docker compose down
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # Windows æŸ¥çœ‹ç«¯å£å ç”¨
   netstat -ano | findstr :5173
   netstat -ano | findstr :3000
   ```

2. **å›¾ç‰‡ä¸æ˜¾ç¤º**
   - æ£€æŸ¥æ–‡ä»¶è·¯å¾„ï¼š`./public/assets/images/`
   - ç¡®è®¤æ–‡ä»¶æ ¼å¼ï¼šPNG, ICO, JPG, JPEG, GIF, SVG
   - éªŒè¯æ–‡ä»¶æƒé™

3. **å®¹å™¨å¯åŠ¨å¤±è´¥**
   ```bash
   # æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
   docker compose logs icon-manager
   
   # é‡æ–°æ„å»º
   docker compose build --no-cache
   ```

## ğŸ¯ å¼€å‘å»ºè®®

1. **å®æ—¶å¼€å‘**ï¼šä¿®æ”¹ä»£ç åè‡ªåŠ¨é‡è½½
2. **å›¾ç‰‡ç®¡ç†**ï¼šç›´æ¥æ“ä½œå®¿ä¸»æœºæ–‡ä»¶å¤¹
3. **è°ƒè¯•æ¨¡å¼**ï¼šæŸ¥çœ‹å®¹å™¨æ—¥å¿—å®šä½é—®é¢˜
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨æ„å»ºç‰ˆæœ¬

## ğŸ“ æ³¨æ„äº‹é¡¹

- ç¡®ä¿ Docker Desktop æ­£åœ¨è¿è¡Œ
- å›¾ç‰‡ç›®å½•æƒé™è®¾ç½®æ­£ç¡®
- ç«¯å£ 5173 å’Œ 3000 æœªè¢«å ç”¨
- å»ºè®®å›¾ç‰‡æ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 10MB