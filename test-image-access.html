<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片访问测试</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-item {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-item h3 {
            margin-top: 0;
            color: #333;
        }
        .test-url {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            margin: 10px 0;
        }
        img {
            max-width: 100px;
            max-height: 100px;
            border: 1px solid #ddd;
            margin: 10px 0;
        }
        .status {
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>图片访问测试页面</h1>
    
    <div class="test-item">
        <h3>测试1: 直接访问GitHub图标</h3>
        <div class="test-url">http://localhost:5173/github/badge--acv-64.svg</div>
        <img src="http://localhost:5173/github/badge--acv-64.svg" alt="GitHub Badge" onerror="this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='❌ 加载失败'" onload="this.nextElementSibling.className='status success'; this.nextElementSibling.textContent='✅ 加载成功'">
        <div class="status">加载中...</div>
    </div>

    <div class="test-item">
        <h3>测试2: 通过后端API访问</h3>
        <div class="test-url">http://localhost:3000/github/badge--acv-64.svg</div>
        <img src="http://localhost:3000/github/badge--acv-64.svg" alt="GitHub Badge API" onerror="this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='❌ 加载失败'" onload="this.nextElementSibling.className='status success'; this.nextElementSibling.textContent='✅ 加载成功'">
        <div class="status">加载中...</div>
    </div>

    <div class="test-item">
        <h3>测试3: 通过images路径访问</h3>
        <div class="test-url">http://localhost:3000/images/github/badge--acv-64.svg</div>
        <img src="http://localhost:3000/images/github/badge--acv-64.svg" alt="GitHub Badge Images" onerror="this.nextElementSibling.className='status error'; this.nextElementSibling.textContent='❌ 加载失败'" onload="this.nextElementSibling.className='status success'; this.nextElementSibling.textContent='✅ 加载成功'">
        <div class="status">加载中...</div>
    </div>

    <script>
        // 测试API接口
        fetch('/api/categories')
            .then(response => response.json())
            .then(data => {
                console.log('分类列表:', data);
                document.body.insertAdjacentHTML('beforeend', `
                    <div class="test-item">
                        <h3>API测试: 分类列表</h3>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    </div>
                `);
            })
            .catch(error => {
                console.error('API测试失败:', error);
            });
    </script>
</body>
</html>